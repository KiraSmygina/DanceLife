<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Танцевальная студия</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="script.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.2/js.cookie.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            width: 100%;
            height: 100%;
        }
        .cookie-notification {
            position: fixed;
            background-color: rgba(0, 0, 0, .8);
            bottom: 0;
            width: 100%;
            color: white;
            padding: 15px;
        }
        .cookie-notification_hidden_yes {
            display: none;
        }
        .cookie-notification__header {
            margin-bottom: 10px;
            font-size: 23px;
        }
        .cookie-notification__body {
            margin-bottom: 10px;
        }
        a {
            text-decoration: none !important;
        }
        header {
            background-color: #450145;
            color: #fff;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        nav {
            background-color: #f2f2f2;
            padding: 10px;
            display: flex;
            justify-content: center; 
        }
        /* Общие стили */
        body {
            font-family: 'Roboto', sans-serif; /* Добавили шрифт Roboto */
            margin: 0;
            padding: 0;
        }
        
        /* Стили для шапки */
        header {
            background-color: #450145;
            color: #fff;
            padding: 20px;
            display: flex; /* Используем flexbox для выравнивания */
            justify-content: space-between; /* Размещение элементов по краям */
            align-items: center; /* Выравнивание по вертикали */
        }
        
        .logo {
            height: 60px;
        }
        
        h1 { /* Стили для заголовка */
            font-family: 'Playfair Display', serif; /* Добавили шрифт Playfair Display */
            font-size: 3em;
            margin: 0;
        }
        
        nav {
            /* Устанавливаем светло-серый фон для меню */
            background-color: #f2f2f2; 
            /* Добавляем отступ вокруг содержимого меню */
            padding: 10px;
            /* Активируем Flexbox для меню, чтобы легче управлять расположением элементов */
            display: flex;
            /* Выравниваем элементы меню по центру */
            justify-content: center; 
        }
        
        /* Стили для ссылок в меню */
        nav a {
            /* Устанавливаем цвет текста ссылок */
            color: #450145; 
            /* Убираем подчеркивание у ссылок */
            text-decoration: none;
            /* Добавляем отступы вокруг текста ссылок */
            padding: 10px 20px;
            /* Добавляем отступ между ссылками */
            margin: 0 10px;
            /* Добавляем плавную анимацию при наведении на ссылки */
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        
        /* Стили для ссылок в меню при наведении */
        nav a:hover {
            /* Изменяем цвет фона ссылки при наведении */
            background-color: #450145; 
            /* Меняем цвет текста на белый при наведении */
            color: #fff;
            /* Увеличиваем размер ссылки при наведении */
            transform: scale(1.05);
        }
        
        /* Стили для основного контента */
        main {
            padding: 20px;
        }
        
        /* Стили для секции "О нас" */
        #about {
            background-color: #f2f2f2;
            padding: 40px;
            display: flex; 
            flex-direction: column; 
            align-items: center; /* Выравнивание по центру */
        }
        
        #about p {
            line-height: 1.5; /* Уменьшили интервал в тексте */
        }
        
        #about img {
            margin-top: 20px; /* Отступ сверху */
            border-radius: 5px;
        }
        
        /* Стили для секции "Контакты" */
        #contact {
            background-color: #f2f2f2;
            padding: 40px;
            display: flex; 
            flex-direction: column; 
            align-items: center; /* Выравнивание по центру */
        }
        
        /* Стили для секции "Наши направления" */
        #services {
            padding: 40px 0;
            display: flex; 
            flex-direction: column; 
            align-items: center; /* Выравнивание по центру */
        }
        
        .service-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        
        .service {
            width: 30%; /* Примерная ширина для 3 картинок в ряд */
            text-align: center;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 50px; /* Отступ между карточками */
        }
        
        .service img {
            width: 100%; /* Картинки будут занимать всю ширину карточки */
            height: 270px; /* Сохраняем пропорции */
            border-radius: 5px; /* Скругленные углы */
        }
        
        /* Стили для футера */
        footer {
            background-color: #450145;
            color: #fff;
            padding: 20px;
            text-align: center;
        }
        
        /* Стили для кнопки записи */
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        h2, h3 {
            color: #450145;
        }
        .button {
            background-color: #450145; /* Цвет фона кнопки */
            color: #fff; /* Цвет текста */
            padding: 15px 30px; /* Отступы */
            border: none; /* Убираем границу */
            border-radius: 5px; /* Скругленные углы */
            text-decoration: none; /* Убираем подчеркивание */
            font-size: 16px; /* Размер шрифта */
            cursor: pointer; /* Курсор указателя */
            transition: background-color 0.3s ease; /* Плавно меняем цвет при наведении */
        }
        
        .button:hover {
            background-color: #450145; /* Цвет фона при наведении */
        }
        
        
        #booking-form {
            /* Устанавливаем ширину формы */
            width: 500px;
            /* Устанавливаем максимальную ширину формы, чтобы она не была слишком широкой на маленьких экранах */
            max-width: 90%;
            /* Центрируем форму по горизонтали */
            margin: 50px auto;
            /* Устанавливаем белый фон формы */
            background-color: #fff;
            /* Добавляем отступ вокруг содержимого формы */
            padding: 30px;
            /* Скругляем углы формы */
            border-radius: 10px;
            /* Добавляем тень под формой */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            /* Активируем Flexbox для формы */
            display: flex;
            /* Располагаем элементы формы вертикально (столбцом) */
            flex-direction: column;
            /* Центрируем элементы формы по горизонтали */
            align-items: center;
            /* Устанавливаем z-index, чтобы форма была поверх других элементов */
            z-index: 100;
            /* Фиксируем форму по отношению к окну браузера */
            position: fixed;
            /* Позиционируем форму в центре по высоте */
            top: 50%;
            /* Позиционируем форму в центре по ширине */
            left: 50%;
            /* Центрируем форму по горизонтали и вертикали */
            transform: translate(-50%, -50%);
        }
        
        /* Скрываем форму, если у нее есть класс "hidden" */
        #booking-form.hidden {
            display: none;
        }
        
        /* Стили для заголовка формы */
        #booking-form h2 {
            /* Добавляем отступ снизу заголовка */
            margin-bottom: 20px;
            /* Устанавливаем цвет текста заголовка */
            color: #450145; 
        }
        
        /* Стили для меток (labels) формы */
        #booking-form label {
            /* Делаем метки "блочными" элементами, чтобы они занимали всю доступную ширину */
            display: block;
            /* Добавляем отступ снизу меток */
            margin-bottom: 5px;
            /* Устанавливаем цвет текста меток */
            color: #450145; 
        }
        
        /* Стили для полей ввода и textarea */
        #booking-form input,
        #booking-form textarea {
            /* Заставляем поля ввода занимать всю ширину родительского элемента */
            width: 100%;
            /* Добавляем отступ к полям ввода */
            padding: 10px;
            /* Добавляем отступ снизу полей ввода */
            margin-bottom: 10px;
            /* Добавляем тонкую серую границу вокруг полей ввода */
            border: 1px solid #ddd;
            /* Скругляем углы полей ввода */
            border-radius: 5px;
            /* Устанавливаем цвет текста в полях ввода */
            color: #450145; 
        }
        
        /* Стили для кнопок формы */
        #booking-form button {
            /* Устанавливаем цвет фона кнопок */
            background-color: #450145;
            /* Устанавливаем цвет текста кнопок */
            color: #fff;
            /* Добавляем отступы для текста внутри кнопок */
            padding: 15px 30px;
            /* Убираем стандартные рамки вокруг кнопок */
            border: none;
            /* Скругляем углы кнопок */
            border-radius: 5px;
            /* Меняем курсор на указатель при наведении на кнопки */
            cursor: pointer;
            /* Добавляем плавную анимацию смены фона кнопки при наведении */
            transition: background-color 0.3s ease;
            /* Добавляем отступы вокруг кнопок */
            margin: 10px;
        }
        
        /* Стили для кнопок формы при наведении */
        #booking-form button:hover {
            /* Изменяем цвет фона кнопки при наведении */
            background-color: #450145; 
        }
        
        /* Убираем нижний отступ у последней кнопки */
        #booking-form button:last-child {
            margin-bottom: 0; 
        }
        #hip-hop {
            background-color: #f2f2f2;
            padding: 40px;
            display: flex; 
            flex-direction: column; 
            align-items: center; /* Выравнивание по центру */
        }
        
        #sovremendance {
            background-color: #f2f2f2;
            padding: 40px;
            display: flex; 
            flex-direction: column; 
            align-items: center; /* Выравнивание по центру */
        }
        
        #ballet {
            background-color: #f2f2f2;
            padding: 40px;
            display: flex; 
            flex-direction: column; 
            align-items: center; /* Выравнивание по центру */
        }
        @import url('https://fonts.OpenAIapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@400;700&display=swap');
        
        button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #450145;
            border: none;
            cursor: pointer;
            color: #fff; /* Цвет текста */
            border-radius: 5px; /* Скругленные углы */
            text-decoration: none; /* Убираем подчеркивание */
            font-size: 16px; /* Размер шрифта */
            transition: background-color 0.3s ease; /* Плавно меняем цвет при наведении */
        }
        button:hover {
            background-color: #450145;
        }
        .highlight {
            color: #971697;
            font-weight: bold;
        }
        
        #textt { /* Стили для заголовка */
            font-family: 'Playfair Display', serif; /* Добавили шрифт Playfair Display */
            font-size: 3em;
            margin: 0;
            color: #450145;
            text-align: center;
        }
        
        #logo {
            position: absolute; /* Needed for absolute positioning */
            transition: transform 0.3s ease; /* Smooth transitions */
        }
    </style>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
       (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
       m[i].l=1*new Date();
       for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
       k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
       (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    
       ym(100071738, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
       });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/100071738" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>
<body>
    <header>
        <img src="логотип танцевальной студии.png" alt="Логотип студии DANCE LIFE" class="logo">
        <div class="title">
            <h1>DANCE LIFE</h1>
        </div>
    </header>
    <nav>
        <a href="index.html">Главная</a>
        <a href="about.html">О нас</a>
        <a href="services.html">Услуги</a>
        <a href="contact.html">Контакты</a>
        <a href="#" id="book-appointment" data-toggle="modal" data-target="#mainModal">Запись на пробное занятие</a>
    </nav>

    <main>
        <section id="about">
            <h2>О нас</h2>
            <p>Добро пожаловать в нашу танцевальную студию! Мы предлагаем широкий спектр танцевальных классов для людей всех возрастов и уровней подготовки.</p>
            <img src="фотоо.jpg" alt="Современный танец" width="1000px" height="600px">
        </section>
        <section id="services">
            <h2>Наши направления</h2>
            <div class="service-grid">
                <div class="service">
                    <img src="современные танцы - contemporary.webp" alt="Современный танец">
                    <h3>Современный танец</h3>
                    <p>Современный танец - это свобода выражения, импровизация и динамика. У нас вы изучите техники современного танца, развитие пластики и координации.</p>
                </div>
                <div class="service">
                    <img src="хип хоп.png" alt="Хип-хоп">
                    <h3>Хип-хоп</h3>
                    <p>Хип-хоп - это стиль, который позволяет выразить себя через ритм и движения. У нас вы освоите базовые элементы хип-хопа, развитие ритмики и координации.</p>
                </div>
                <div class="service">
                    <img src="балет.jpg" alt="Балет">
                    <h3>Балет</h3>
                    <p>Балет - это классика, изящество и грация. У нас вы изучите основы балета, развитие пластики и координации.</p>
                </div>
            </div>
        </section>
        <section id="contact">
            <h2>Контакты</h2>
            <p>Свяжитесь с нами, чтобы записаться на занятия:</p>
            <p>Телефон: +7 (123) 456-78-90</p>
            <p>Email: info@dancestudio.com</p>
            <p>Адрес: г. Владимир, ул. Пушкина, д. 10</p>

            <div class="button-container">
                <a href="#" class="button" data-toggle="modal" data-target="#mainModal" style="color: white;">Записаться на пробное занятие</a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 DANCE LIFE. Все права защищены.</p>
    </footer>
    
    <div class="modal fade" id="mainModal" tabindex="-1" role="dialog" aria-labelledby="mainModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="mainModalLabel">Добро пожаловать!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Закрыть">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Выберите действие:</p>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#loginModal">Авторизация</button>
                    <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#registerModal">Регистрация</button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Авторизация</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Закрыть">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" class="form-control" id="loginEmail" placeholder="Введите email" required autocomplete="username">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Пароль</label>
                            <input type="password" class="form-control" id="loginPassword" placeholder="Введите пароль" required autocomplete="current-password">
                        </div>
                        <button type="submit" class="btn btn-primary">Войти</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerModalLabel">Регистрация</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Закрыть">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="registerEmail">Email</label>
                            <input type="email" class="form-control" id="registerEmail" placeholder="Введите email" required autocomplete="username">
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">Пароль</label>
                            <input type="password" class="form-control" id="registerPassword" placeholder="Введите пароль" required autocomplete="new-password">
                        </div>
                        <button type="submit" class="btn btn-primary">Зарегистрироваться</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

    <script>
        // Функция для отправки логов на сервер
        function logEvent(event) {
            fetch('/api/log', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ event }),
            })
            .then(response => response.json())
            .then(data => console.log(data.message))
            .catch((error) => console.error('Ошибка:', error));
        }

        // Функция для сохранения пользователя в localStorage
        function saveUser(email, password) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            users.push({ email, password });
            localStorage.setItem('users', JSON.stringify(users));
        }

        // Функция для проверки пользователя в localStorage
        function checkUser(email, password) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            return users.some(user => user.email === email && user.password === password);
        }

        // Обработка формы регистрации
        $('#registerForm').on('submit', function (event) {
            event.preventDefault();
            const email = $('#registerEmail').val();
            const password = $('#registerPassword').val();

            const users = JSON.parse(localStorage.getItem('users')) || [];
            if (users.some(user => user.email === email)) {
                alert('Пользователь с таким email уже существует.');
            } else {
                saveUser(email, password);
                alert('Регистрация успешна!');
                logEvent(`Регистрация успешна для email: ${email}`);
                $('#registerModal').modal('hide');
            }
        });

        // Обработка формы авторизации
        $('#loginForm').on('submit', function (event) {
            event.preventDefault();
            const email = $('#loginEmail').val();
            const password = $('#loginPassword').val();

            if (checkUser(email, password)) {
                alert('Авторизация успешна!');
                logEvent(`Авторизация успешна для email: ${email}`);
                $('#loginModal').modal('hide');
            } else {
                alert('Ошибка авторизации. Проверьте email и пароль.');
                logEvent(`Ошибка авторизации для email: ${email}`);
            }
        });

        // Логика для уведомления о cookies
        document.addEventListener('DOMContentLoaded', function () {
            const cookieNotification = document.querySelector('.cookie-notification');
            const cookieButton = document.querySelector('#yes');

            if (!cookieButton) {
                console.error('Кнопка "Я согласен" не найдена!');
                return;
            }

            if (!Cookies.get('agreement')) {
                cookieNotification.classList.remove('cookie-notification_hidden_yes');
            }

            cookieButton.addEventListener('click', () => {
                Cookies.set('agreement', '1', { expires: 365 });
                cookieNotification.classList.add('cookie-notification_hidden_yes');
                initCounter();
            });
        });

        // Инициализация Яндекс.Метрики
        function initCounter() {
            ym(100071738, 'init', { // Замените 100071738 на ваш ID
                clickmap: true,
                trackLinks: true,
                accurateTrackBounce: true,
                webvisor: true
            });
        }
    </script>
</body>
</html>
